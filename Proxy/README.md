# 🔌 پراکسی PHP برای اتصال به سرویس‌های برق‌من

---

## فهرست مطالب
- [توضیحات پروژه](#توضیحات-پروژه)
- [نحوه عملکرد](#نحوه-عملکرد)
- [نحوه استفاده](#نحوه-استفاده)
- [نکات امنیتی](#نکات-امنیتی)
- [توسعه‌دهنده](#توسعه‌دهنده)
- [مجوز](#مجوز)

---

## توضیحات پروژه

با توجه به اینکه سرورهای برق‌من (`https://uiapi.saapa.ir`) از خارج کشور ایران قابل دسترسی نیستند و سرورهای ما (مانند سرور بات تلگرام) در دیتاسنترهای خارجی قرار دارند، برای رفع این محدودیت، یک پراکسی ساده با PHP پیاده‌سازی شده است.

این پراکسی روی یک هاست ایرانی قرار داده شده و وظیفه دارد درخواست‌های ما را به سرور اصلی هدایت کرده و پاسخ را بازگرداند.

---

## نحوه عملکرد

- کلاینت (مثلاً بات تلگرام) درخواست را به مسیر `proxy.php` روی هاست ایرانی ارسال می‌کند.
- پراکسی درخواست را دریافت و به آدرس اصلی (`https://uiapi.saapa.ir`) فوروارد می‌کند.
- پاسخ دریافتی را به کلاینت بازمی‌گرداند.
- تمامی درخواست‌ها و پاسخ‌ها در فایل `proxy.log` ذخیره می‌شوند.

---

## نحوه استفاده

1. فایل `proxy.php` را روی یک هاست ایرانی آپلود کنید.
2. در کد کلاینت خود، آدرس مقصد را به آدرس پراکسی تغییر دهید:

```python
# نمونه در پایتون
requests.post('http://your-iranian-host.com/proxy.php/api/ebills/BlackoutsReport', headers=..., json=...)
```

---

## نکات امنیتی

- بهتر است دسترسی به فایل `proxy.php` محدود به IPهای مشخص و مجاز شود.
- لاگ‌ها (`proxy.log`) را به صورت دوره‌ای بررسی کنید تا از سلامت ارتباط اطمینان حاصل شود.
- زمان‌های انتظار (`timeout`) و تنظیمات دیگر را متناسب با نیاز پروژه تنظیم نمایید.

---

## توسعه‌دهنده

این پراکسی توسط تیم توسعه جهت پشتیبانی از سرویس‌های برق‌من در محیط‌های بین‌المللی طراحی و پیاده‌سازی شده است. 🌍

---

## مجوز

این پروژه تحت [مجوز MIT](https://opensource.org/licenses/MIT) منتشر شده است.

---